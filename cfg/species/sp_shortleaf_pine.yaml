# Shortleaf Pine (Pinus echinata) Configuration
# Common pine species throughout the southeastern US

metadata:
  code: SP
  fia_code: 110
  plants_symbol: PIEC2
  scientific_name: Pinus echinata
  common_name: shortleaf pine
  valid_site_species: true  # Valid for site index calculation

# Site index parameters
site_index:
  min: 30
  max: 110
  site_index_group: 1  # Group assignment for site index transformations
  height_growth_equation: "NC-128: 110/25"  # Reference to site index curve

# Stand density parameters
density:
  sdi_max: 400  # Maximum stand density index

# Height-diameter relationship
height_diameter:
  model: "curtis_arney"  # Default model to use
  curtis_arney:
    p2: 148.49283
    p3: 4.06477291
    p4: -0.59160445
    dbw: 0.5  # Diameter breakpoint for small trees
  # Special Fort Bragg Military Reservation parameters
  fort_bragg:
    p2: 128.4
    p3: 6.1030
    p4: -0.7910
    dbw: 0.5
  wykoff:
    b1: 4.9145
    b2: -9.3883
    fort_bragg_b1: 4.904
    fort_bragg_b2: -10.084
    
# Bark ratio parameters
bark_ratio:
  b1: -0.43531
  b2: 0.90368
  
# Crown ratio parameters
crown_ratio:
  equation: "4.3.1.6"  # Which equation form to use
  d0: 53.0673
  d1: -18.5878
  d2: null  # Not used in this equation type
  weibull:
    a: 3.9695
    b0: -5.9645
    b1: 1.0260
    c: 2.7678

# Large tree diameter growth model parameters
# Equation form: ln(DDS) = b1 + (b2 * ln(DBH)) + (b3 * DBH^2) + (b4 * ln(CR)) + (b5 * RELHT) + (b6 * SI) + 
#                          (b7 * BA) + (b8 * PBAL) + (b9 * SLOPE) + (b10 * cos(ASP) * SLOPE) + 
#                          (b11 * sin(ASP) * SLOPE) + FORTYPE + ECOUNIT + PLANT
# 
# COEFFICIENTS FROM SOUTHERN VARIANT SOURCE OF TRUTH (archive/data/archive/southern_variant_tables/large_tree_growth_parameters.csv)
# SP = Shortleaf Pine (Pinus echinata)
diameter_growth:
  model: "ln_dds"  # Natural log of the periodic change in squared inside-bark diameter
  coefficients:
    # Coefficients for SP (Shortleaf Pine)
    b1: -0.008942   # Intercept
    b2: 1.238170    # ln(DBH) coefficient
    b3: -0.001170   # DBH^2 coefficient
    b4: 0.053076    # ln(CR) coefficient
    b5: 0.040334    # RELHT coefficient
    b6: 0.004723    # SI coefficient
    b7: -0.004394   # BA coefficient
    b8: -0.003271   # PBAL coefficient
    b9: -0.704687   # SLOPE coefficient
    b10: 0.127667   # cos(ASP)*SLOPE coefficient
    b11: 0.028391   # sin(ASP)*SLOPE coefficient
  
  # DBH bounding function values from diameter_bounding_limits.csv
  # SP: DBH LOW = 998.0, DBH HI = 999.0 (no bounding function applied)
  dbh_bounds:
    lower_limit: 998.0  # No diameter bounding function
    upper_limit: 999.0  # No diameter bounding function

# Volume specifications
volume:
  pulpwood:
    min_dbh: 6      # Minimum DBH in inches
    top_diameter: 4 # Top diameter outside bark in inches
  sawtimber:
    min_dbh: 10     # Default for softwoods
    top_diameter: 7 # Default for softwoods 